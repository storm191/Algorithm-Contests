<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en"><head>




<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="Robots" content="index,follow">
<link rel="stylesheet" href="SIGNS_files/PixelGreen2.css" type="text/css">
<link rel="shortcut icon" href="http://opc.shaastra.org/favicon.ico" type="image/favicon">
<title>Online Programming Contest ~ Shaastra 2008</title>
</head><body>

<!-- wrap starts here -->
<div id="wrap">
	<div id="header"><div id="header-content">
		<div id="sha"></div>
		<h1 id="logo"><a href="http://www.shaastra.org/" title="">Shaastra<span class="gray">2008</span></a></h1>
		<h2 id="slogan"><a href="http://opc.shaastra.org/">Online Programming Contest</a></h2>
		<div id="spons">
			Sponsored by: 
			<a href="http://www.google.co.in/corporate/index.html" target="_blank">
				<img src="SIGNS_files/google.jpg" alt="Google" id="spons-img">
			</a>
		</div>
		<ul style="width: 500px;">
			<li><a href="http://opc.shaastra.org/">Home</a></li>
			
      <li><a href="http://opc.shaastra.org/teams/">Teams</a></li>
			<li><a href="http://opc.shaastra.org/rules">Rules</a></li>
			<li><a href="http://opc.shaastra.org/faqs">FAQs</a></li>
			<li><a href="http://opc.shaastra.org/credits">Contact</a></li>
                        <li><a href="http://opc.shaastra.org/problems">Problems</a></li>
                        <li><a href="http://opc.shaastra.org/submit">Submit</a></li>
                        <li><a href="http://opc.shaastra.org/status">Status</a></li>
                        <li><a href="http://opc.shaastra.org/ranks">Ranks</a></li>
                        <li><a href="http://opc.shaastra.org/clarifications">Clarifications</a></li>
		</ul>		
    </div>
	</div>
	
	<div id="content-wrap"><div id="content">
		<!-- sidebar begin -->
		<div id="sidebar">	
			<div class="sidebox">
					<p><strong>My_Zit</strong><br>
					besus;bit</p>
					<ul class="sidemenu">
						<li><a href="http://opc.shaastra.org/editprofile/" class="top">Edit profile</a></li>
						<li><a href="http://opc.shaastra.org/logout/">Logout</a></li>
					</ul>
			</div>
      <div class="sidebox">
        <h1>Contest</h1>
        <p style="font-family: monospace;">
        <strong>Current: &nbsp;&nbsp;&nbsp;</strong>18:59:16 28-09-2008<br>
        <strong>Start time: </strong>14:10:00 28-09-2008<br>
        <strong>End time: &nbsp;&nbsp;</strong>19:10:00 28-09-2008<br>
        </p>
        <p>Send queries to <strong>online.programming<br>[AT]shaastra.org</strong></p>
      </div>      
		</div>	
		<!-- sidebar end -->

		<div id="main">		


<h1>Problems</h1>

<h2>7. Signs</h2>
<p>
In the past two decades, there have been incidents of aerial views of
several large farmlands showing areas of crop that were cut down in
peculiar looking patterns. Many of these were large enough to be
visible from several hundreds of metres in the air. One theory
suggests that these could be landing sites or guiding landmarks for
alien spaceships.
</p>

<p> The patterns of the cutdown crops are such that aerially these
look like several points connected by straight lines or arcs. The
lines and arcs lead from one point to another, in order, and finally
to the first point itself, thus forming a closed loop. That is, any
point has exactly 2 lines or arcs incident on it.</p>

<p> Your aim is to determine whether an alien spaceship can use a
given crop sign as a landing site. A spaceship performs the following
procedure to test whether it can land there:</p>

<ol>

<li>It stays on air vertically above the centroid of the pattern.</li>

<li>Then it makes a given number of equal turns about its own
(vertical) axis in the same direction (clockwise or
anticlockwise).</li>

<li>These turns are such that, once all the turns are made, the
spaceship has rotated once completely about its (vertical) axis.</li>

<li>The spaceship can also recognize the depth of a point on the
ground.</li>

<li>The pattern is marked as land-able only if the spaceship's view of
this pattern by the above procedure is exactly same after every
turn. Assume that any arc looks similar to any other arc.</li>

</ol>

<h3>Input</h3>
<p>The first line contains the number of test cases (1 &lt;= <b>N</b>
&lt;= 1000), and this is followed by <b>N</b> test cases. </p>

<p>Each test case starts with a line containing two integers, the
number of points in the pattern <b>M</b> (2 &lt;= <b>M</b> &lt;= 3000)
and the number of equal turns <b>T</b> the spaceship makes (2 &lt;=
<b>T</b> &lt;= 30). This is then followed by <b>M</b> lines containing
the <b>x</b>, <b>y</b>, and <b>z</b> coordinates of each point (-10000
&lt; <b>x</b> &lt; 10000, -10000 &lt; <b>y</b> &lt; 10000, -50
&lt; <b>x</b> &lt; 50, all floating point numbers) and a single
character <b>l</b> or <b>c</b> to denote a line or an arc starting
from this point and leading to the next point. The points are given in
order.</p>

<p>There are no blank lines in the input but there is a newline at the
end of the input.</p>

<h3>Output</h3>
<p>
For each test case, output <b>Valid</b> if the pattern is a valid
landing site, or <b>Invalid</b> otherwise. The answer for each
test case must be printed in a separate line, and there must be a
newline after the last output.
</p>

<p>
<b>NOTE:</b> Be precise to within 10<sup>-3</sup> in your floating
point comparisons.
</p>

<h3>Sample Input</h3>
<p>
<code>
3
4 4
0.0 0.0 0.0 l
0.0 1.0 0.0 l
1.0 1.0 0.0 l
1.0 0.0 0.0 l
4 3
0.0 0.0 0.0 l
0.0 1.0 0.0 l
1.0 1.0 0.0 l
1.0 0.0 0.0 l
4 4
0.0 0.0 0.0 l
0.0 1.0 0.0 l
1.0 1.0 0.0 l
1.0 0.5 0.0 l
</code>
</p>

<h3>Sample output</h3>
<p>
<code>
Valid
Invalid
Invalid
</code>
</p>

<h4>Time limit : 3 seconds</h4>
<h4>Memory limit : 64MB</h4>

			<br>
	</div>
	</div></div>

<div id="footer"><div id="footer-content">
		<div class="col float-left">
			<h1>Other coding events at Shaastra 2008</h1>
			<ul>				
				<li><a href="http://www.shaastra.org/2008/Events/Babel" target="_blank"><strong>Babel</strong></a></li>
				<li><a href="http://www.shaastra.org/2008/Events/Shock" target="_blank"><strong>Obfuscated Code Contest</strong></a></li>
			        <li><a href="http://www.shaastra.org/2008/Events/Brainfck" target="_blank"><strong>Brainfck contest</strong></a></li>
<strong>			</strong></ul><strong>			
		</strong></div>
<strong>		</strong><div class="col float-left">
<strong>			</strong><h1><strong>Links</strong></h1>
<strong>			</strong><ul>
<strong>				</strong><li><strong><a href="http://www.shaastra.org/">Shaastra 2008</a></strong></li><strong>	
				</strong><li><strong><a href="http://www.iitm.ac.in/">IIT Madras</a></strong></li><strong>	
				</strong><li><strong><a href="http://www.spoj.pl/">SPOJ</a></strong></li><strong>	
				</strong><li><strong><a href="http://www.topcoder.com/tc">TopCoder</a></strong></li><strong>	
			</strong></ul>
<strong>		</strong></div><strong>	
		</strong><div class="col2 float-right">
<strong>		</strong><p>
<strong>		Â© Copyright 2008 <strong>Shaastra</strong><br> 
		Design by: <a href="http://www.styleshout.com/"><strong>styleshout</strong></a><br>
		Valid <a href="http://jigsaw.w3.org/css-validator/check/referer"><strong>CSS</strong></a> | 
		      <a href="http://validator.w3.org/check/referer"><strong>XHTML</strong></a>
		</strong></p>
<strong>		
		</strong><ul><strong>						
			</strong><li><strong><a href="http://opc.shaastra.org/"><strong>Home</strong></a></strong></li>
<strong>			</strong><li><strong><a href="http://opc.shaastra.org/credits/"><strong>Credits</strong></a></strong></li>
<strong>		</strong></ul><strong>	
		</strong></div>
<strong>	
</strong></div></div>
</div>

<!-- Tracker -->
<script src="SIGNS_files/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-2535511-1";
urchinTracker();
</script>
</body></html>